CUDA_INSTALL_PATH ?= /usr/local/cuda
INCLUDES  := -I. -I$(CUDA_INSTALL_PATH)/include

# You must change this parameter according to your gpu capabilities "-arch=sm_20"

NVCC      := nvcc -arch=sm_20 -Xcompiler -fPIC -shared 

all : FFT

FFT : FAFT128_1D_R2C.so IFAFT128_1D_C2R.so FAFT128_2D_R2C.so IFAFT128_2D_C2R.so FAFT128_3D_R2C.so IFAFT128_3D_C2R.so FAFT128_4D_R2C.so IFAFT128_4D_C2R.so
	
# R2C & C2R

FAFT128_1D_R2C.so : FAFT128_1D_R2C.cu
	$(NVCC) $(INCLUDES) -o FAFT128_1D_R2C.so FAFT128_1D_R2C.cu

IFAFT128_1D_C2R.so : IFAFT128_1D_C2R.cu
	$(NVCC) $(INCLUDES) -o IFAFT128_1D_C2R.so IFAFT128_1D_C2R.cu

FAFT128_2D_R2C.so : FAFT128_2D_R2C.cu
	$(NVCC) $(INCLUDES) -o FAFT128_2D_R2C.so FAFT128_2D_R2C.cu
	
IFAFT128_2D_C2R.so : IFAFT128_2D_C2R.cu
	$(NVCC) $(INCLUDES) -o IFAFT128_2D_C2R.so IFAFT128_2D_C2R.cu
	
FAFT128_3D_R2C.so : FAFT128_3D_R2C.cu
	$(NVCC) $(INCLUDES) -o FAFT128_3D_R2C.so FAFT128_3D_R2C.cu
	
IFAFT128_3D_C2R.so : IFAFT128_3D_C2R.cu
	$(NVCC) $(INCLUDES) -o IFAFT128_3D_C2R.so IFAFT128_3D_C2R.cu
	
FAFT128_4D_R2C.so : FAFT128_4D_R2C.cu
	$(NVCC) $(INCLUDES) -o FAFT128_4D_R2C.so FAFT128_4D_R2C.cu
	
IFAFT128_4D_C2R.so : IFAFT128_4D_C2R.cu
	$(NVCC) $(INCLUDES) -o IFAFT128_4D_C2R.so IFAFT128_4D_C2R.cu
	
	
clean :
	rm -f *.so
